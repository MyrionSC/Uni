package main;

public class Main {

	
	public static void runTests () {
		// test starting variables are set right
		CarAlarmSystem cas = new CarAlarmSystem();
		cas.printState();

		if (cas.door != doorState.opened) System.out.println("Error: doorstate should be opened");
		if (cas.alarmArmed) System.out.println("Error: Alarm should not be armed");
		if (cas.alarmFlashing) System.out.println("Error: Alarm should not be flashing");
		if (cas.alarmSound) System.out.println("Error: Alarm should not be sounding");
		
		cas.closeDoor();
		new java.util.Timer().schedule( 
		        new java.util.TimerTask() {
		            @Override
		            public void run() {
		        		if (cas.door != doorState.closed) System.out.println("Error: door should be closed. door is " + cas.door.toString());
		        		if (!cas.alarmArmed) System.out.println("Error: Alarm should be armed");                
		            }
		        },
		        2500 
		);
	}
	
	public static void main(String[] args) {
		
		runTests();
	}
}
